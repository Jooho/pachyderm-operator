
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.4.1
  creationTimestamp: null
  name: pachyderms.aiml.pachyderm.com
spec:
  group: aiml.pachyderm.com
  names:
    kind: Pachyderm
    listKind: PachydermList
    plural: pachyderms
    singular: pachyderm
  scope: Namespaced
  versions:
  - name: v1beta1
    schema:
      openAPIV3Schema:
        description: Pachyderm is the Schema for the pachyderms API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: PachydermSpec defines the desired state of Pachyderm
            properties:
              dash:
                description: Options used to configure dashd deployment
                properties:
                  enabled:
                    description: 'Option to disable dash Default: true'
                    type: boolean
                  image:
                    description: Optional image overrides. Used to specify alternative
                      images to use to deploy dash
                    properties:
                      pullPolicy:
                        description: Determines when images should be pulled Either,
                          "IfNotPresent" or "Always"
                        type: string
                      repository:
                        description: This option dictates the particular image to
                          pull
                        type: string
                      tag:
                        description: Used with the image registry to choose a specific
                          image in a cointainer registry to pull
                        type: string
                    type: object
                  resources:
                    description: Optional resource requirements required to run the
                      dash pods.
                    properties:
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: 'Limits describes the maximum amount of compute
                          resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: 'Requests describes the minimum amount of compute
                          resources required. If Requests is omitted for a container,
                          it defaults to Limits if that is explicitly specified, otherwise
                          to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                        type: object
                    type: object
                  service:
                    properties:
                      annotations:
                        items:
                          type: string
                        type: array
                      type:
                        type: string
                    required:
                    - type
                    type: object
                  url:
                    description: The address to use as the host in the dash ingress.
                      Used as the host of a rule
                    type: string
                type: object
              etcd:
                description: Etd option allows user to customize deployment of the
                  Etcd key value store
                properties:
                  dynamicNodes:
                    description: Optional parameter to set the number of nodes in
                      the Etcd statefulset. Analogous --dynamic-etcd-nodes argument
                      to 'pachctl deploy'
                    format: int32
                    type: integer
                  image:
                    description: Optional image overrides. Used to specify alternative
                      images to use to deploy dash
                    properties:
                      pullPolicy:
                        description: Determines when images should be pulled Either,
                          "IfNotPresent" or "Always"
                        type: string
                      repository:
                        description: This option dictates the particular image to
                          pull
                        type: string
                      tag:
                        description: Used with the image registry to choose a specific
                          image in a cointainer registry to pull
                        type: string
                    type: object
                  resources:
                    description: Resource requests and limits for Etcd
                    properties:
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: 'Limits describes the maximum amount of compute
                          resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: 'Requests describes the minimum amount of compute
                          resources required. If Requests is omitted for a container,
                          it defaults to Limits if that is explicitly specified, otherwise
                          to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                        type: object
                    type: object
                  service:
                    properties:
                      annotations:
                        items:
                          type: string
                        type: array
                      type:
                        type: string
                    required:
                    - type
                    type: object
                  storageClass:
                    description: If specified, etcd would use an existing storage
                      class for its storage Name of existing storage class to use
                      for the Etcd persistent volume.
                    type: string
                  storageSize:
                    description: 'The size of the storage to use for etcd. For example:
                      "100Gi"'
                    type: string
                type: object
              pachd:
                description: Pachd options allow you to customize deployment of pachd
                properties:
                  authenticationDisabledForTesting:
                    type: boolean
                  blockCacheBytes:
                    description: Size of Pachd's in-memory cache for PFS file. Size
                      is specified in bytes, with allowed SI suffixes (M, K, G, Mi,
                      Ki, Gi, etc)
                    type: string
                  clusterDeploymentID:
                    description: Set an ID for the cluster deployment. Defaults to
                      a random value if none is provided
                    type: string
                  exposeDockerSocket:
                    type: boolean
                  exposeObjectAPI:
                    type: boolean
                  image:
                    description: Optional image overrides. Used to specify alternative
                      images to use to deploy dash
                    properties:
                      pullPolicy:
                        description: Determines when images should be pulled Either,
                          "IfNotPresent" or "Always"
                        type: string
                      repository:
                        description: This option dictates the particular image to
                          pull
                        type: string
                      tag:
                        description: Used with the image registry to choose a specific
                          image in a cointainer registry to pull
                        type: string
                    type: object
                  logLevel:
                    description: The log level option determines the severity of logs
                      that are of interest to the user
                    type: string
                  lokiLogging:
                    description: 'Optional value to determine the format of the logs
                      Default: false'
                    type: boolean
                  metrics:
                    properties:
                      enabled:
                        description: 'Default: true'
                        type: boolean
                      endpoint:
                        type: string
                    required:
                    - enabled
                    - endpoint
                    type: object
                  numShards:
                    description: 'Sets the maximum number of pachd nodes allowed in
                      the cluster. Increasing this number blindly could lead to degraded
                      performance Default: 16'
                    format: int32
                    type: integer
                  ppsWorkerGRPCPort:
                    type: integer
                  requireCriticalServersOnly:
                    description: 'Require only critical Pachd servers to startup and
                      run without errors. Default: false'
                    type: boolean
                  resources:
                    description: Resource requests and limits for Pachd
                    properties:
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: 'Limits describes the maximum amount of compute
                          resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: 'Requests describes the minimum amount of compute
                          resources required. If Requests is omitted for a container,
                          it defaults to Limits if that is explicitly specified, otherwise
                          to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                        type: object
                    type: object
                  service:
                    properties:
                      annotations:
                        items:
                          type: string
                        type: array
                      type:
                        type: string
                    required:
                    - type
                    type: object
                  serviceAccountName:
                    type: string
                  storage:
                    description: Object storage options for Pachd
                    properties:
                      amazon:
                        description: Configures the Amazon storage backend
                        properties:
                          bucket:
                            type: string
                          cloudFrontDistribution:
                            type: string
                          customEndpoint:
                            type: string
                          disableSSL:
                            type: boolean
                          iamRole:
                            type: string
                          id:
                            type: string
                          logOptions:
                            type: string
                          maxUploadParts:
                            type: integer
                          partSize:
                            type: string
                          region:
                            type: string
                          retries:
                            type: integer
                          reverse:
                            type: boolean
                          secret:
                            type: string
                          timeout:
                            type: string
                          token:
                            type: string
                          uploadACL:
                            type: string
                          vault:
                            properties:
                              address:
                                type: string
                              role:
                                type: string
                              token:
                                type: string
                            required:
                            - address
                            - role
                            - token
                            type: object
                          verifySSL:
                            type: boolean
                        type: object
                      backend:
                        description: Sets the type of storage backend. Should be one
                          of "google", "amazon", "minio", "microsoft" of "local"
                        type: string
                      google:
                        description: Configures the Google storage backend
                        properties:
                          bucket:
                            type: string
                          credentialSecret:
                            type: string
                          serviceAccountName:
                            type: string
                        type: object
                      local:
                        description: Kubernetes hostPath
                        properties:
                          hostPath:
                            description: Location on the worker node to be mounted
                              into the pod
                            type: string
                        type: object
                      microsoft:
                        properties:
                          container:
                            type: string
                          id:
                            type: string
                          secret:
                            type: string
                        type: object
                      minio:
                        properties:
                          bucket:
                            type: string
                          endpoint:
                            type: string
                          id:
                            type: string
                          secret:
                            type: string
                          secure:
                            type: string
                          signature:
                            type: string
                        type: object
                      putFileConcurrencyLimit:
                        description: 'The maximum number of files to upload or fetch
                          from remote sources (HTTP, blob storage) using PutFile concurrently.
                          Default: 100'
                        format: int32
                        type: integer
                      uploadFileConcurrencyLimit:
                        description: 'The maximum number of concurrent object storage
                          uploads per Pachd instance. Default: 100'
                        format: int32
                        type: integer
                    type: object
                required:
                - authenticationDisabledForTesting
                - exposeDockerSocket
                - exposeObjectAPI
                - ppsWorkerGRPCPort
                type: object
              worker:
                properties:
                  image:
                    description: Optional image overrides. Used to specify alternative
                      images to use to deploy dash
                    properties:
                      pullPolicy:
                        description: Determines when images should be pulled Either,
                          "IfNotPresent" or "Always"
                        type: string
                      repository:
                        description: This option dictates the particular image to
                          pull
                        type: string
                      tag:
                        description: Used with the image registry to choose a specific
                          image in a cointainer registry to pull
                        type: string
                    type: object
                  serviceAccountName:
                    type: string
                type: object
            type: object
          status:
            description: PachydermStatus defines the observed state of Pachyderm
            properties:
              phase:
                description: PachydermStatus defines the data type used to define
                  the status of a Pachyderm resource
                type: string
            required:
            - phase
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
